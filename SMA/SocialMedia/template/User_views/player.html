<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - Music Player</title>
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto&amp;display=swap'>
<link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'><link rel="stylesheet" href="./style.css">
<script src="https://www.youtube.com/iframe_api"></script>
  
</head>
<body>
 
<div class="player" >
  <div id="container">
    <div id="player"> </div>
    
  </div>
        <div class="volume-box">
            <span class="volume-down"><i class="material-icons">remove</i></span>
            <input type="range" class="volume-range" step="1" value="80" min="0" max="100"
                oninput="music.volume = this.value/100">
            <span class="volume-up"><i class="material-icons">add</i></span>
        </div>
        <div class="btn-box">
          <i class="material-icons favorite active" onclick="handleFavorite()">favorite</i>
            <i class="material-icons repeat" onclick="handleRepeat()">repeat</i>
            <i class="material-icons volume" onclick="handleVolume()">volume_up</i>
            <i class="material-icons">fullscreen</i>
            <i class="material-icons" onclick="handleSettings()">settings</i>
        
          </div>
        <div class="music-box">

            <audio class="music-element">
                <source src="https://hosseinghanbari.ir/other/music-player/autumn.mp3" type="audio/mp3">
            </audio>
            <div class="timeline">
                <span class="current-time">0:0</span>
                <input type="range" step="1" class="seekbar" value="0" min="0" max="100" oninput="handleSeekBar()">
                <span class="duration">0:0</span>
            </div>
            <div class="controls">
                <span class="play" onclick="handlePlay()">
                  <i class="material-icons">keyboard_double_arrow_left</i>
                </span> 
                <span class="play" onclick="handlePlay()">
                  <i class="material-icons">skip_previous</i>
                </span> 
                <span class="play" onclick="handlePlay()">
                  <i class="material-icons">play_arrow</i>
                </span> 
                <span class="play" onclick="handlePlay()">
                  <i class="material-icons">skip_next</i>
                </span> 
                <span class="play" onclick="handlePlay()">
                  <i class="material-icons">keyboard_double_arrow_right</i>
                </span> 
                
                 
                 
            </div>
        </div>
    </div>
</body>
</html>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/js/swiper.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/js/swiper.min.js'></script><script  src="./script.js"></script>
<script>


// video iframe launch
function onYouTubeIframeAPIReady(videoId){
   player = new YT.Player('player', {
     height: windowHeight,
     width: windowWidth,  
     videoId: videoId,
      // Start with an empty video ID or a default one
     //  playerVars: {
     //   listType: 'playlist',
     //   list: playlistId
     // }
     events: {
       'onReady': onPlayerReady,
       'onStateChange': onPlayerStateChange
     }
   });
 }
 // video iframe launch


//search and launch the video
function searchYouTubeVideos(query) {
  $.ajax({
    url: 'https://www.googleapis.com/youtube/v3/search',
    type: 'GET',
    dataType: 'json',
    data: {
      part: 'snippet',
      q: query,
      type: 'video',// type: 'playlist'
      maxResults: 1,
      key: 'AIzaSyAhC8-5v4t99yKibB5jZmtYGHRjmT10uqY' // Replace with your actual API key
    },
    success: function(response) {
      if (response.items.length > 0) {
        var videoId = response.items[0].id.videoId;
        console.log(videoId);
        loadVideoById(videoId);
        // onYouTubeIframeAPIReady(videoId)

        // player.loadVideoById(videoId);
      }
    },
    error: function(response) {
      console.error("Search API Request Failed", response);
    }
  });
}
//search and launch the video
// dinamic screen lenght
let windowWidth = window.innerWidth;
let windowHeight = window.innerHeight;

console.log("Window width:", windowWidth);
console.log("Window height:", windowHeight);
window.addEventListener('resize', function() {
  windowWidth = window.innerWidth;
  windowHeight = window.innerHeight;

  console.log("Window width:", windowWidth);
  console.log("Window height:", windowHeight);

});
// dinamic screen lenght

// Function to skip 10 seconds forward
function skipForward() {
  if (player && player.getCurrentTime) {
    var currentTime = player.getCurrentTime();
    player.seekTo(currentTime + 10, true); // Adding 10 seconds to current time
  }
}

// Function to skip 10 seconds backward
function skipBackward() {
  if (player && player.getCurrentTime) {
    var currentTime = player.getCurrentTime();
    player.seekTo(currentTime - 10, true); // Subtracting 10 seconds from current time
  }
}

// Example of button click event listeners
document.getElementById('skipForwardButton').addEventListener('click', skipForward);
document.getElementById('skipBackwardButton').addEventListener('click', skipBackward);


// ###############################

// Function to toggle fullscreen mode
// Example of button click event listener
document.getElementById('fullScreenButton').addEventListener('click', toggleFullScreen);
function toggleFullScreen() {
  var playerElement = document.getElementById('player');
  
  if (playerElement.requestFullscreen) {
    if (document.fullscreenElement) {
      document.exitFullscreen();
    } else {
      playerElement.requestFullscreen();
    }
  } else if (playerElement.mozRequestFullScreen) { /* Firefox */
    if (document.mozFullScreenElement) {
      document.mozCancelFullScreen();
    } else {
      playerElement.mozRequestFullScreen();
    }
  } else if (playerElement.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
    if (document.webkitFullscreenElement) {
      document.webkitExitFullscreen();
    } else {
      playerElement.webkitRequestFullscreen();
    }
  } else if (playerElement.msRequestFullscreen) { /* IE/Edge */
    if (document.msFullscreenElement) {
      document.msExitFullscreen();
    } else {
      playerElement.msRequestFullscreen();
    }
  }
}
// Function to toggle fullscreen mode

// ###############################

// Function to increase playback speed
function increaseSpeed() {
  if (player && player.setPlaybackRate) {
    var currentSpeed = player.getPlaybackRate();
    var newSpeed = currentSpeed + 0.25; // Increase playback speed by 0.25
    player.setPlaybackRate(newSpeed);
  }
  console.log(newSpeed) ;
  displayElement = document.getElementById('speed-display');
  displayElement.textContent = newSpeed;
}

// Function to decrease playback speed
function decreaseSpeed() {
  if (player && player.setPlaybackRate) {
    var currentSpeed = player.getPlaybackRate();
    var newSpeed = Math.max(0.25, currentSpeed - 0.25); // Decrease playback speed by 0.25, with a minimum of 0.25
    player.setPlaybackRate(newSpeed);
  }
   
  console.log(newSpeed) ;
  displayElement = document.getElementById('speed-display');
  displayElement.textContent = newSpeed;
}

// Example of button click event listeners
document.getElementById('increaseSpeedButton').addEventListener('click', increaseSpeed);
document.getElementById('decreaseSpeedButton').addEventListener('click', decreaseSpeed);


</script>
</body>
</html>
